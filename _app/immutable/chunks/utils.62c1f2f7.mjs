import{u as k}from"./userData.da927e9c.mjs";const{services:o}=k;async function r({url:e,retries:t=0,currentUptime:n=0,maxUptime:s=o.maxUptime||null}){const c=Date.now();return new Promise((i,w)=>{window.fetch(e,{method:"GET"}).then(a=>{o.keepAwake?!s||o.wakeInterval+n<s?setTimeout(()=>{console.count(`keeping ${e} awake`),r({url:e,currentUptime:n+(Date.now()-c),maxUptime:s})},o.wakeInterval||84e4):console.warn("No longer keeping service awake"):console.warn("Not keeping service awake"),i(a)}).catch(a=>{t+=1,t<30?setTimeout(()=>r({url:e,retries:t}),1e4):w(a)})})}function g(e){return[...e.sort((n,s)=>n.stargazers_count>s.stargazers_count?-1:s.stargazers_count>n.stargazers_count?1:0)]}export{g as s,r as w};
